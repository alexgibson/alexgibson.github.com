<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="Alex Gibson is a front–end web developer from Newcastle upon Tyne, United Kingdom." />
    <meta name="author" content="Alex Gibson" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="alternate" type="application/rss+xml" title="Alex Gibson" href="http://alxgbsn.co.uk/feed/" />
    <title>iOS startup images using CSS media queries</title>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33263279-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</head>
<body>
  	<nav role="navigation">
	<ul>
		<li><a href="/">Home</a></li>
		<li><a href="/projects/">Projects</a></li>
		<li><a href="/contact/">Contact</a></li>
	</ul>
</nav>
    <header role="banner">
        <h1>iOS startup images using CSS media queries</h1>
    </header>
    <article role="main">
    <time datetime="Mon Oct 24 00:00:00 +0100 2011" pubdate>Published Oct 24 2011</time>
    <p>Ever since the arrival of the iPad and iPhone 4, serving correctly sized <code>apple-touch-startup-images</code> for iOS web apps has been somewhat clumbersome, especially if you wish to cater for every type of iOS device.</p>

<p>A common solution has been to use JavaScript to detect what device the user is on, and then to write the correct image into the <code>&lt;head&gt;</code> of your HTML file.</p>

<div class="highlight"><pre><code class="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">filename</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span> <span class="o">===</span> <span class="s1">&#39;iPad&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">filename</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">orientation</span> <span class="o">===</span> <span class="mi">90</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">orientation</span> <span class="o">===</span> <span class="o">-</span><span class="mi">90</span> <span class="o">?</span> <span class="s1">&#39;splash-1024x748.png&#39;</span> <span class="o">:</span> <span class="s1">&#39;splash-768x1004.png&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">filename</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="s1">&#39;splash-640x920.png&#39;</span> <span class="o">:</span> <span class="s1">&#39;splash-320x460.png&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;link rel=&quot;apple-touch-startup-image&quot; href=&quot;&#39;</span> <span class="o">+</span> <span class="nx">filename</span> <span class="o">+</span> <span class="s1">&#39;&quot;/&gt;&#39;</span> <span class="p">);</span>
<span class="p">})();</span>
</code></pre>
</div>


<p>To make things more complicated, you also need to serve a high-res startup image for the iPhone 4's retina display. The iPad requires two different splash screen images for each orientation as well. Things quickly start to get a bit messy…</p>

<p>As of iOS5, you can now use CSS Media Queries to serve each type of startup image required, so no need for JavaScript anymore!</p>

<p>Just use any of the following media queries in the <code>&lt;head&gt;</code>of your HTML file.</p>

<div class="highlight"><pre><code class="html"><span class="c">&lt;!-- 320x460 for iPhone 3GS --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-startup-image&quot;</span> <span class="na">media=</span><span class="s">&quot;(max-device-width: 480px) and not (-webkit-min-device-pixel-ratio: 2)&quot;</span> <span class="na">href=</span><span class="s">&quot;startup-iphone.png&quot;</span> <span class="nt">/&gt;</span>
<span class="c">&lt;!-- 640x920 for retina display --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-startup-image&quot;</span> <span class="na">media=</span><span class="s">&quot;(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)&quot;</span> <span class="na">href=</span><span class="s">&quot;startup-iphone4.png&quot;</span> <span class="nt">/&gt;</span>
<span class="c">&lt;!-- iPad Portrait 768x1004 --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-startup-image&quot;</span> <span class="na">media=</span><span class="s">&quot;(min-device-width: 768px) and (orientation: portrait)&quot;</span> <span class="na">href=</span><span class="s">&quot;startup-iPad-portrait.png&quot;</span> <span class="nt">/&gt;</span>
<span class="c">&lt;!-- iPad Landscape 1024x748 --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-startup-image&quot;</span> <span class="na">media=</span><span class="s">&quot;(min-device-width: 768px) and (orientation: landscape)&quot;</span> <span class="na">href=</span><span class="s">&quot;startup-iPad-landscape.png&quot;</span> <span class="nt">/&gt;</span>
</code></pre>
</div>


<h2>Caveat</h2>

<p>The only drawback to this CSS only method is that every image seems to be downloaded, regardless of which one is used on the device. If your application is supporting both iPhone and iPad, it may be worth using the JavaScript solution still. But the choice is yours to make, depending on the number of files and their respective sizes. Hopefully Apple will eventually support another solution to serving the correct file, such as using the <code>sizes</code> attribute.</p>

</article>

    <form class="search" action="http://google.com/search" method="get">
    <input type="hidden" name="q" value="site:alxgbsn.co.uk" />
    <input class="search" type="search" name="q" results="0" placeholder="Search"/>
</form>
    <footer role="contentinfo">
	<p>Copyright &copy; Alex Gibson | Powered by <a href="http://jekyllrb.com/">Jekyll</a>.</p>
</footer>
</body>
</html>
