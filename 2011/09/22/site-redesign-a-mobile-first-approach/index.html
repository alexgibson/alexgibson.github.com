<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <title>Site redesign, a mobile first approach | Alex Gibson</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Site meta -->
    <meta name="description" content="Details on the redesign of this site using a mobile first approach to designing websites" />
    <meta name="author" content="Alex Gibson" />

    <!-- Prefetch DNS for external assets -->
    <link rel="dns-prefetch" href="//platform.twitter.com" />
    <link rel="dns-prefetch" href="//www.google-analytics.com" />
    <link rel="dns-prefetch" href="//p.twitter.com" />
    <link rel="dns-prefetch" href="//cdn.api.twitter.com" />

    <script src="/js/site.js"></script>
    
    <link rel="stylesheet" href="/css/styles.css" />

    <!--[if lte IE 7]>
    <link rel="stylesheet" href="/css/ie7-and-down.css" />
    <![endif]-->

    <script src="/js/responsive-nav.min.js"></script>

    <link rel="alternate" type="application/rss+xml" title="Alex Gibson" href="/feed/" />
    <link rel="canonical" href="http://alxgbsn.co.uk/2011/09/22/site-redesign-a-mobile-first-approach" />

    <!--[if lt IE 9]>
        <script src="/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/iOS-144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/iOS-114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/iOS-72.png" />
    <link rel="apple-touch-icon-precomposed" href="/images/iOS-57.png" />
    <link rel="shortcut icon" href="/images/iOS-57.png" />

    <!-- iOS icon app title -->
    <meta name="apple-mobile-web-app-title" content="Alex Gibson" />

    <!-- Async Google Analytics -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33263279-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</head>
<body>

<header role="banner">
    <nav id="nav" role="navigation">
    <ul>
        <li><a href="/">Blog</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="/work/">Work</a></li>
        <li><a href="/contact/">Contact</a></li>
    </ul>
</nav>

    <h1>Site redesign, a mobile first approach</h1>
</header>
    
<article role="main">
    <time datetime="2011-09-22">Published Sep 22 2011</time>
    <p>Anyone who has visited this site over the last few weeks will no doubt have noticed a few changes. It has now had a complete design overhaul, which is probably long overdue given the current rise in interest of principals such as <a href="http://www.alistapart.com/articles/responsive-web-design/">responsive web design</a> and <a href="http://www.lukew.com/ff/entry.asp?933">mobile first</a>. What follows is a run down of basic changes to the site, in what hopefully makes for a much improved reading experience, in our rapidly changing, device-agnostic world.</p>

<h2>Establishing a useful baseline</h2>

<p>Rather than using a traditional CSS reset, this site now uses <a href="http://necolas.github.com/normalize.css/">normalize.css</a> to establish a consistent baseline for cross-browser CSS rendering. Normalize.css makes web browsers render elements more consistently and in line with modern standards. It also preserves useful defaults and corrects common browser inconsistencies, unlike many CSS resets.</p>

<h2>Mobile First</h2>

<p>For a site where 62.46% of visitors in August to September 2011 were on mobile devices, this is real a no-brainer. Whilst the majority of mobile visitors to MiniApps are on more capable smart phone platforms such as iOS and Android (where a simple set of <a href="http://www.w3.org/TR/css3-mediaqueries/">CSS Media Queries</a> could suffice), given the <a href="http://www.lukew.com/ff/entry.asp?1405">continual rise</a> in the number of people using mobile devices to access the world wide web, it still makes sense to design using a <a href="http://www.lukew.com/ff/entry.asp?933">mobile first</a> approach.</p>

<p>This site now serves styling for browsers in the following order:</p>

<ul>
<li>A default CSS style sheet suited to small–screen devices</li>
<li>CSS Media Queries then optimize content for larger screen sizes such as tablets, e–readers and desktop web browsers.</li>
<li>Note: since Internet Explorer 8 (and below) does not support CSS Media Queries, it is served a static set of CSS styles optimized for desktop, via a single conditional comment.</li>
<li>Update: IE Mobile is now set as version 7 in the conditional comment. This is because the new Mango update uses mobile IE 9 (thanks <a href="http://paulirish.com/">Paul Irish</a>!).</li>
</ul>


<div class="highlight"><pre><code class="css"><span class="c">/* Default CSS for mobile here -- */</span>

<span class="c">/* Tablets (portrait) ----------- */</span>
<span class="k">@media</span> <span class="o">(</span><span class="nt">min-width</span> <span class="o">:</span> <span class="nt">570px</span><span class="o">)</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">max-width</span> <span class="o">:</span> <span class="nt">768px</span><span class="o">)</span> <span class="p">{</span>
    
<span class="p">}</span>

<span class="c">/* Tablets landscape, and desktop */</span>
<span class="k">@media</span> <span class="o">(</span><span class="nt">min-width</span> <span class="o">:</span> <span class="nt">769px</span><span class="o">)</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div>


<p>Conditional comment for Internet Explorer:</p>

<div class="highlight"><pre><code class="html"><span class="c">&lt;!--[if (lt IE 9)&amp;(!IEMobile 7)]&gt;</span>
<span class="c">&lt;link href=&quot;css/desktop.css&quot; rel=&quot;stylesheet&quot; /&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
</code></pre></div>


<h2>Responsive design</h2>

<p>Whilst the new MiniApps design is quite minimal, using a single column design centered on readability and clear presentation of content - there are still some interesting pieces of responsiveness worth noting (other than the typical resizing of content to fit the browser window).</p>

<h2>Content first, navigation second</h2>

<p>Despite MiniApps already using a mobile first approach for CSS, more capable small–screen web browsers can benefit from a further layer of progressive enhancement, with the adoption of a <a href="http://adactio.com/journal/4778/">content first, navigation second</a> design pattern. Using the <a href="http://dev.w3.org/csswg/css3-flexbox/">CSS3 Flexbox module</a>, visitors on capable mobile web browsers will see the page header and main content first, followed by the navigation further down the page, but before the footer.</p>

<p>Here is a basic template for the site's structural HTML markup:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;nav</span> <span class="na">role=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;&lt;/nav&gt;</span>
    <span class="nt">&lt;header</span> <span class="na">role=</span><span class="s">&quot;banner&quot;</span><span class="nt">&gt;&lt;/header&gt;</span>
    <span class="nt">&lt;section</span> <span class="na">role=</span><span class="s">&quot;main&quot;</span><span class="nt">&gt;&lt;/section&gt;</span>
    <span class="nt">&lt;aside</span> <span class="na">role=</span><span class="s">&quot;complementary&quot;</span><span class="nt">&gt;&lt;/aside&gt;</span>
    <span class="nt">&lt;footer</span> <span class="na">role=</span><span class="s">&quot;contentinfo&quot;</span><span class="nt">&gt;&lt;/footer&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div>


<p>Nested inside an appropriate CSS Media Query, small–screen browsers are then be served a different ordering of page content, using the box-ordinal-group property.</p>

<div class="highlight"><pre><code class="css"><span class="c">/* Smartphones (portrait and landscape) ----------- */</span>
<span class="k">@media</span> <span class="o">(</span><span class="nt">max-width</span> <span class="o">:</span> <span class="nt">569px</span><span class="o">)</span> <span class="p">{</span>

    <span class="nt">body</span> <span class="p">{</span>
        <span class="k">display</span><span class="o">:</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
        <span class="k">display</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
        <span class="k">display</span><span class="o">:</span> <span class="n">box</span><span class="p">;</span>
        <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">orient</span><span class="o">:</span> <span class="n">vertical</span><span class="p">;</span>
        <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">orient</span><span class="o">:</span> <span class="n">vertical</span><span class="p">;</span>
        <span class="n">box</span><span class="o">-</span><span class="n">orient</span><span class="o">:</span> <span class="n">vertical</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nt">nav</span><span class="o">[</span><span class="nt">role</span><span class="o">=</span><span class="nt">navigation</span><span class="o">]</span> <span class="p">{</span>
        <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">4</span><span class="p">;</span>
        <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">4</span><span class="p">;</span>
        <span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">4</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">header</span><span class="o">[</span><span class="nt">role</span><span class="o">=</span><span class="nt">banner</span><span class="o">]</span> <span class="p">{</span>
        <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
        <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
        <span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">section</span><span class="o">[</span><span class="nt">role</span><span class="o">=</span><span class="nt">main</span><span class="o">]</span> <span class="p">{</span>
        <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">2</span><span class="p">;</span>
        <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">2</span><span class="p">;</span>
        <span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">2</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nt">aside</span><span class="o">[</span><span class="nt">role</span><span class="o">=</span><span class="nt">complementary</span><span class="o">]</span> <span class="p">{</span>
        <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">3</span><span class="p">;</span>
        <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">3</span><span class="p">;</span>
        <span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">3</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nt">footer</span><span class="o">[</span><span class="nt">role</span><span class="o">=</span><span class="nt">contentinfo</span><span class="o">]</span> <span class="p">{</span>
        <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">5</span><span class="p">;</span>
        <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">5</span><span class="p">;</span>
        <span class="n">box</span><span class="o">-</span><span class="n">ordinal</span><span class="o">-</span><span class="n">group</span><span class="o">:</span> <span class="m">5</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<p>This gets the user straight to the content they want to see, making much better use of valuable screen real–estate. Each page also features skip links, allowing for quick access to navigation and main content irrespective of the content order.</p>

<p>Note: for the subset of mobile browsers that support CSS Media Queries but do not yet support Flexbox (e.g. Opera Mobile/Mini), featured detection comes to the rescue courtesy of <a href="http://modernizr.com/">Modernizr</a>. A few alternate CSS styling rules are all that is needed for the navigation and footer sections. Modernizr also provides the site's HTML5 shim that enables Internet Explorer to correctly style new sectioning elements.</p>

</article>


<form class="search" action="http://google.com/search" method="get" title="Search this site">
    <div role="search">
        <label for="q">Search</label>
        <input type="hidden" name="q" value="site:alxgbsn.co.uk" />
        <input class="search" type="search" name="q" id="q" placeholder="Enter a search term&hellip;" />
        <button type="submit">Search</button>
    </div>
</form>

<footer role="contentinfo">
    <p>
        <a href="https://twitter.com/alex_gibson" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @alex_gibson</a>
    </p>
    <p>Copyright &copy; 2013 Alex Gibson</p>
</footer>

<script src="/js/main.js"></script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</body>
</html>
