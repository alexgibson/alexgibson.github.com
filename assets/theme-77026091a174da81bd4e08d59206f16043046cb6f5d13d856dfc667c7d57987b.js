function isCSSVariablesSupported(){return window.CSS&&window.CSS.supports("color","var(--fake-color")}function changeTheme(e){const t=!!e.target.checked;t?document.documentElement.classList.add("js-t-dark"):document.documentElement.classList.remove("js-t-dark");try{sessionStorage.setItem("t-dark",t)}catch(e){}}function prefersDarkTheme(){try{const t=sessionStorage.getItem("t-dark");return!!("true"===t||"false"!==t&&window.matchMedia("(prefers-color-scheme: dark)").matches)}catch(e){return!1}}function toggleDarkTheme(e){const t=document.getElementById("theme");e?(t.checked=!0,document.documentElement.classList.add("js-t-dark")):(t.checked=!1,document.documentElement.classList.remove("js-t-dark"));try{sessionStorage.setItem("t-dark",e)}catch(c){}}function initThemeSelector(){const e=document.querySelector(".theme-selector"),t=document.getElementById("theme"),c=window.matchMedia("(prefers-color-scheme: dark)");prefersDarkTheme()&&toggleDarkTheme(!0),t.addEventListener("click",changeTheme),c.addListener(e=>{toggleDarkTheme(e.matches)}),e.classList.remove("hidden")}function init(){isCSSVariablesSupported()&&initThemeSelector()}init();