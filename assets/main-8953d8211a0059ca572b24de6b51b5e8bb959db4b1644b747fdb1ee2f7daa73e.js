function registerServiceWorker(){navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{console.log("Service Worker: registered")})["catch"](e=>{console.log("Service Worker: registration failed ",e)})}function isCSSVariablesSupported(){return window.CSS&&window.CSS.supports("color","var(--fake-color")}function changeTheme(e){const t="t-dark"===e.target.value;t?document.documentElement.classList.add("js-t-dark"):document.documentElement.classList.remove("js-t-dark");try{sessionStorage.setItem("t-dark",t)}catch(e){}}function prefersDarkTheme(){try{const t=sessionStorage.getItem("t-dark");return!!("true"===t||"false"!==t&&window.matchMedia("(prefers-color-scheme: dark)").matches)}catch(e){return!1}}function toggleDarkTheme(e){e?(document.getElementById("t-dark").checked=!0,document.documentElement.classList.add("js-t-dark")):(document.getElementById("t-light").checked=!0,document.documentElement.classList.remove("js-t-dark"));try{sessionStorage.setItem("t-dark",e)}catch(t){}}function initThemeSelector(){const e=document.querySelector(".theme-selector"),t=e.querySelectorAll('.theme-form input[type="radio"]'),r=window.matchMedia("(prefers-color-scheme: dark)");prefersDarkTheme()&&toggleDarkTheme(!0),t.forEach(e=>{e.addEventListener("click",changeTheme)}),r.addListener(e=>{toggleDarkTheme(e.matches)}),e.classList.remove("hidden")}isCSSVariablesSupported()&&initThemeSelector(),registerServiceWorker();