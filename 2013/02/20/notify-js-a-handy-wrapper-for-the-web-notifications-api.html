<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Notify.js - A handy wrapper for the Web Notifications API – Alex Gibson</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="A JavaScript plugin that provides a simplified wrapper for using the Web Notifications API."><meta name="author" content="Alex Gibson"><meta name="generator" content="Jekyll"><link rel="canonical" href="https://alxgbsn.co.uk/2013/02/20/notify-js-a-handy-wrapper-for-the-web-notifications-api/"><link rel="stylesheet" type="text/css" href="/assets/styles-30d1c44e71e17534b979fe0186f6fea940314e407433c315de8445e874c6fb9a.css"><link rel="alternate" type="application/rss+xml" title="Alex Gibson" href="/feed/"><link rel="manifest" href="/manifest.json"><!--[if lt IE 9]>
    <script type="text/javascript" src="/assets/lib/html5shiv-6e9566e51098627c2824e546909ee18725d233fc9cdd81910819e7e108cf36c0.js"></script>
  <![endif]--><meta name="apple-mobile-web-app-title" content="Alex Gibson"><meta name="theme-color" content="#ecebe6"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/avatar-180-a1b105f177ccb815e56ac246a8958ead865bf75115d4e851fab3172195d9e903.png"><link rel="icon" type="image/png" sizes="196x196" href="/assets/avatar-196-08ced917c23964bfe35d9047b34ef916e0cb0402eeb80a1d182927b93abc059d.png"><link href="/assets/favicon-c7e8985ec9f12e894ff40b1bba29bdf1a389f8670c5355cf6f7598bfb9c4dde8.ico" rel="shortcut icon"></head><body><main role="main"><nav role="navigation"><ul><li><a href="/">Blog</a></li><li><a href="/about/">About</a></li><li><a href="/contact/">Contact</a></li></ul></nav><article><header role="banner"><h1>Notify.js - A handy wrapper for the Web Notifications API</h1></header><section class="post"><p class="meta"><time datetime="2013-02-20">February 20 2013</time> 3 min read.</p><p>I recently spent some time getting to grips with the <a href="http://www.w3.org/TR/notifications/">Web Notifications API</a>, which is currently supported in Chrome, Safari 6, and just recently in Firefox. It enables you to create growl-style notifications for web applications, and if you’re on OSX it integrates really nicely with Notification Centre.</p><p>I wanted to create something that I could easily reuse in different projects, so I wrote a JavaScript plugin called <a href="https://github.com/alexgibson/notify.js">Notify.js</a> that acts as a simplified wrapper for the API.</p><p>Notify.js aims to simplify requesting user permission and associated Web Notification API events, as well as providing a few extra callbacks and convenience methods.</p><p>There is a simple <a href="https://alexgibson.github.io/notify.js">online demo here</a>. Installation and setup instructions are as follows:</p><h2 id="installation">Installation</h2><p>Please see the <a href="https://github.com/alexgibson/notify.js">GitHub repo</a> for setup instructions.</p><h2 id="usage">Usage</h2><p>To initialize a web notification create a new <code class="highlighter-rouge">Notify</code> instance, passing the message <code class="highlighter-rouge">title</code> as well as any other options you wish to use.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myNotification</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Notify</span><span class="p">(</span><span class="s1">'Yo dawg!'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">body</span><span class="p">:</span> <span class="s1">'This is an awesome notification'</span><span class="p">,</span>
    <span class="na">notifyShow</span><span class="p">:</span> <span class="nx">onNotifyShow</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">onNotifyShow</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'notification was shown!'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure><p>Then show the notification.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">myNotification</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span></code></pre></figure><h2 id="required-parameters">Required parameters</h2><ul><li><code class="highlighter-rouge">title</code> (string) - notification title</li></ul><h2 id="optional-parameters">Optional parameters</h2><ul><li><code class="highlighter-rouge">body</code>: (string) - notification message body</li><li><code class="highlighter-rouge">icon</code>: (string) - path for icon to display in notification</li><li><code class="highlighter-rouge">tag</code>: (string) - unique identifier to stop duplicate notifications</li><li><code class="highlighter-rouge">timeout</code>: (integer) - number of seconds to close the notification automatically</li><li><code class="highlighter-rouge">notifyShow</code>: (function) - callback when notification is shown</li><li><code class="highlighter-rouge">notifyClose</code>: (function) - callback when notification is closed</li><li><code class="highlighter-rouge">notifyClick</code>: (function) - callback when notification is clicked</li><li><code class="highlighter-rouge">notifyError</code>: (function) - callback when notification throws an error</li><li><code class="highlighter-rouge">permissionGranted</code>: (function) - callback when user has granted permission</li><li><code class="highlighter-rouge">permissionDenied</code>: (function) - callback when user has denied permission</li></ul><h2 id="static-methods">Static methods</h2><ul><li><code class="highlighter-rouge">Notify.needsPermission()</code> - (returns boolean) check is permission is needed for the user to receive notifications.</li><li><code class="highlighter-rouge">Notify.requestPermission()</code> - requests permission from the user if needed and handles permission callbacks.</li><li><code class="highlighter-rouge">Notify.isSupported()</code> - (returns boolean) test for Web Notifications API browser support</li></ul><h2 id="a-note-about-chrome">A note about Chrome</h2><p>Unlike other browsers that implement the Web Notification API, Chrome does not permit requesting permission on page load (it must be as a result of user interaction, such as a <code class="highlighter-rouge">click</code> event). You can find out more in the <a href="https://code.google.com/p/chromium/issues/detail?id=274284">Chromium bug for this issue</a>.</p><h2 id="testing">Testing</h2><p>Install <a href="http://nodejs.org">Node</a>. Testing relies on the Karma test-runner, which can be installed globally using the following command.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install -g karma
</code></pre></div></div><p>In the project root, to perform a single pass of the tests using Firefox run:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm test
</code></pre></div></div><h2 id="browser-support">Browser support</h2><p>Please see the <a href="https://github.com/alexgibson/notify.js/#browser-support">GitHub readme</a> for up to date browser support details.</p></section></article><footer role="contentinfo"><form role="search" class="search" action="https://duckduckgo.com/" method="get" title="Search this site"><label for="q">Search</label> <input type="hidden" name="sites" value="alxgbsn.co.uk"> <input class="search" type="search" name="q" id="q" placeholder="Search this site"> <button type="submit">Go</button></form><ul><li><a href="/feed/index.xml" title="RSS feed">Subscribe (RSS)</a></li></ul></footer></main><script type="text/javascript" src="/assets/main-7fde6c85d9901972362b6794d34921bb0f4cca13d845a8378d3358f037ce2144.js"></script></body></html>